{"version":3,"sources":["dom.js"],"names":["window","som","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","find","selector","scope","querySelectorAll","remove","removeChild","empty","childNodes","arr","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","each","nodeList","fn","i","call","class","add","className","classList","has","contains","on","eventName","addEventListener","off","removeEventListener","children","Array","from","filter","n","x","nodeType","previousSibling","list","initialTop","initialLeft","position","top","left","dragging","e","clientX","clientY","y","deltaX","deltaY","parseInt"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.som = {\n\tcreate(string) {\n\t\tconst container = document.createElement(\"template\");\n\t\tcontainer.innerHTML = string.trim();\n\t\treturn container.content.firstChild;\n\t},\n\tafter(node, node2) {\n\t\tnode.parentNode.insertBefore(node2, node.nextSibling);\n\t},\n\tbefore(node, node2) {\n\t\tnode.parentNode.insertBefore(node2, node);\n\t},\n\tappend(parent, node) {\n\t\tparent.appendChild(node);\n\t},\n\twrap(node, parent) {\n\t\tsom.before(node, parent);\n\t\tsom.append(parent, node);\n\t},\n\tfind(selector, scope) {\n\t\treturn (scope || document).querySelectorAll(selector);\n\t},\n\tremove(node) {\n\t\tnode.parentNode.removeChild(node);\n\t\treturn node;\n\t},\n\tempty(node) {\n\t\tconst { childNodes } = node;\n\t\tconst arr = [];\n\t\tlet firstChild = node.firstChild;\n\t\twhile (firstChild) {\n\t\t\tarr.push(som.remove(node.firstChild));\n\t\t\tfirstChild = node.firstChild;\n\t\t}\n\t\treturn arr;\n\t},\n\tattr(node, name, value) {\n\t\tif (arguments.length === 3) {\n\t\t\tnode.setAttribute(name, value);\n\t\t} else {\n\t\t\treturn node.getAttribute(name);\n\t\t}\n\t},\n\ttext(node, string) {\n\t\tif (arguments.length === 2) {\n\t\t\tif (\"innerText\" in node) {\n\t\t\t\tnode.innerText = string;\n\t\t\t} else {\n\t\t\t\tnode.textContent = string;\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (\"innerText\" in node) {\n\t\t\t\treturn node.innerText;\n\t\t\t} else {\n\t\t\t\treturn node.textContent;\n\t\t\t}\n\t\t}\n\t},\n\thtml(node, string) {\n\t\tif (arguments.length === 2) {\n\t\t\tnode.innerHTML = string;\n\t\t} else if (arguments.length === 1) {\n\t\t\treturn node.innerHTML;\n\t\t}\n\t},\n\tstyle(node, name, value) {\n\t\tif (arguments.length === 3) {\n\t\t\t//som.style(div, \"color\", \"red\")\n\t\t\tnode.style[name] = value;\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (typeof name === \"string\") {\n\t\t\t\t//som.style(div, \"color\")\n\t\t\t\treturn node.style[name];\n\t\t\t} else if (name instanceof Object) {\n\t\t\t\t//som.style(div, {color: \"red\"})\n\t\t\t\tconst object = name;\n\t\t\t\tfor (let key in object) {\n\t\t\t\t\tnode.style[key] = object[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\teach(nodeList, fn) {\n\t\tfor (let i = 0; i < nodeList.length; i++) {\n\t\t\tfn.call(null, nodeList[i]);\n\t\t}\n\t},\n\tclass: {\n\t\tadd(node, className) {\n\t\t\tnode.classList.add(className);\n\t\t},\n\t\tremove(node, className) {\n\t\t\tnode.classList.remove(className);\n\t\t},\n\t\thas(node, className) {\n\t\t\treturn node.classList.contains(className);\n\t\t},\n\t},\n\ton(node, eventName, fn) {\n\t\tnode.addEventListener(eventName, fn);\n\t},\n\toff(node, eventName, fn) {\n\t\tnode.removeEventListener(eventName, fn);\n\t},\n\tfind(selector, scope) {\n\t\treturn (scope || document).querySelectorAll(selector);\n\t},\n\tparent(node) {\n\t\treturn node.parentNode;\n\t},\n\tchildren(node) {\n\t\treturn node.children;\n\t},\n\tsiblings(node) {\n\t\treturn Array.from(node.parentNode.children).filter((n) => n !== node);\n\t},\n\tnext(node) {\n\t\tlet x = node.nextSibling;\n\t\twhile (x && x.nodeType === 3) {\n\t\t\tx = x.nextSibling;\n\t\t}\n\t\treturn x;\n\t},\n\tprevious(node) {\n\t\tlet x = node.previousSibling;\n\t\twhile (x && x.nodeType === 3) {\n\t\t\tx = x.previousSibling;\n\t\t}\n\t\treturn x;\n\t},\n\teach(nodeList, fn) {\n\t\tfor (let i = 0; i < nodeList.length; i++) {\n\t\t\tfn.call(null, nodeList[i]);\n\t\t}\n\t},\n\tindex(node) {\n\t\tconst list = som.children(node.parentNode);\n\t\tlet i;\n\t\tfor (i = 0; i < list.length; i++) {\n\t\t\tif (list[i] === node) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t},\n\tdrag(node, initialTop, initialLeft) {\n\t\tnode.style.position = \"absolute\"\n\t\tnode.style.top = initialTop + 'px'\n\t\tnode.style.left = initialLeft + 'px'\n\n\t\tvar dragging = false;\n\t\tvar position = null;\n\n\t\tnode.addEventListener(\"mousedown\", function (e) {\n\t\t\tdragging = true;\n\t\t\tposition = [e.clientX, e.clientY];\n\t\t});\n\n\t\tdocument.addEventListener(\"mousemove\", function (e) {\n\t\t\tif (dragging === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst x = e.clientX;\n\t\t\tconst y = e.clientY;\n\t\t\tconst deltaX = x - position[0];\n\t\t\tconst deltaY = y - position[1];\n\t\t\tconst left = parseInt(node.style.left || 0);\n\t\t\tconst top = parseInt(node.style.top || 0);\n\t\t\tnode.style.left = left + deltaX + \"px\";\n\t\t\tnode.style.top = top + deltaY + \"px\";\n\t\t\tposition = [x, y];\n\t\t});\n\t\tdocument.addEventListener(\"mouseup\", function (e) {\n\t\t\tdragging = false;\n\t\t});\n\t}\n};\n"]}